{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/2020/11/14/migrate-net-core-3-1-project-to-net-5/",
    "result": {"data":{"site":{"siteMetadata":{"title":"<bbon />"}},"markdownRemark":{"id":"496c435d-eb3c-56b7-a179-eaeeb8e63b35","excerpt":"변환 대상은 .NET Core 3.1 을 사용해서 작성된 응용프로그램입니다. 전체 코드는 340eb28b1ea510a2c59e8627659cd81b689b7244 커밋에서 확인할 수 있습니다.  .NET Core 3.1 을 사용해서 작성된 응용프로그램을 .NET…","html":"<p>변환 대상은 .NET Core 3.1 을 사용해서 작성된 응용프로그램입니다.</p>\n<p>전체 코드는 340eb28b1ea510a2c59e8627659cd81b689b7244 커밋에서 확인할 수 있습니다.</p>\n<p><a href=\"https://github.com/bbonkr/bing-wallpaper/tree/340eb28b1ea510a2c59e8627659cd81b689b7244\"><code class=\"language-text\">Commit &lt;> 340eb28b1ea510a2c59e8627659cd81b689b7244</code></a></p>\n<p>.NET Core 3.1 을 사용해서 작성된 응용프로그램을 .NET 5를 사용하는 응용프로그램으로 마이그레이션하려면, 솔루션의 모든 프로젝트의 대상 프레임워크를 <code class=\"language-text\">net5.0</code>으로 변경하고, 의존 패키지를 .NET 5 호환 버전으로 업데이트하면 됩니다.</p>\n<p>의존 패키지가 .NET 5 를 지원하지 않는 경우가 아니라면 큰 문제없이 마이그레이션을 마칠 수 있을 것이라 생각합니다.</p>\n<h2>대상 프레임워크 변경</h2>\n<p>솔루션 파일을 Visual Studio 에서 열고, 포함된 프로젝트의 대상 프레임워크 <small>TargetFramework</small>를 아래 표와 같이 <code class=\"language-text\">net5.0</code>으로 변경합니다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">이전 대상 프레임워크</th>\n<th align=\"center\">변경 대상 프레임워크</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">netstandard2.1</td>\n<td align=\"center\">net5.0</td>\n</tr>\n<tr>\n<td align=\"center\">netcoreapp3.0</td>\n<td align=\"center\">net5.0</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Project</span> <span class=\"token attr-name\">Sdk</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Microsoft.NET.Sdk<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PropertyGroup</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TargetFramework</span><span class=\"token punctuation\">></span></span>net5.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>TargetFramework</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>PropertyGroup</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Project</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>Nuget 패키지 업데이트</h2>\n<p>의존하는 모든 Nuget 패키지를 .NET 5 호환 가능한 버전으로 업데이트합니다.</p>\n<h2>Docker 이미지 변경</h2>\n<p>build-time image: <code class=\"language-text\">mcr.microsoft.com/dotnet/sdk:5.0</code>\nrun-time image: <code class=\"language-text\">mcr.microsoft.com/dotnet/runtime:5.0</code></p>\n<p>도커 이미지 정보는 아래 <code class=\"language-text\">.NET Runtime - Docker Hub</code> 페이지에서 확인할 수 있습니다.</p>\n<p><a href=\"https://hub.docker.com/_/microsoft-dotnet-runtime/\">.NET Runtime - Docker Hub</a></p>\n<p><code class=\"language-text\">.NET Runtime - Docker Hub</code> 페이지에서 관련 저장소를 확인하세요.</p>\n<p>아래는 .NET 5 프로젝트에서 사용되는 도커파일 예제입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> mcr.microsoft.com/dotnet/sdk:5.0 <span class=\"token keyword\">AS</span> build</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token comment\"># copy csproj and restore as distinct layers</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> dotnet restore</span>\n\n<span class=\"token comment\"># copy everything else and build app</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> cd Bing.Wallpaper.Service.App &amp;&amp; dotnet publish -c Release -o /app/out</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> mcr.microsoft.com/dotnet/runtime:5.0 <span class=\"token keyword\">AS</span> runtime</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">build</span></span> /app/out ./</span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENTRYPOINT</span> [<span class=\"token string\">\"dotnet\"</span>, <span class=\"token string\">\"Bing.Wallpaper.Service.App.dll\"</span>]</span></code></pre></div>\n<h2>확인</h2>\n<p>의존 패키지가 .NET 5 호환 가능한 버전이 존재해서 큰 문제없이 변경되었습니다.</p>\n<p><a href=\"https://github.com/bbonkr/bing-wallpaper/tree/d3151bedcadefdcbf7c144c568a871c7718a94cb\"><code class=\"language-text\">Commit &lt;> d3151bedcadefdcbf7c144c568a871c7718a94cb</code></a></p>","frontmatter":{"title":".NET Core 3.1 프로젝트를 .NET 5 로 마이그레이션","date":"November 14, 2020","description":null,"categories":["howto"],"tags":["dotnet","dotnet 5","migration"],"github":null,"image":null,"draft":null,"comments":null}},"previous":{"fields":{"slug":"/2020/09/07/filedownload-within-spa/"},"frontmatter":{"title":"SPA 에서 파일 다운로드","image":null,"draft":null,"comments":null}},"next":{"fields":{"slug":"/2020/11/15/react-starter-kit/"},"frontmatter":{"title":"React Starter Kit","image":null,"draft":null,"comments":null}}},"pageContext":{"id":"496c435d-eb3c-56b7-a179-eaeeb8e63b35","previousPostId":"9f5dd717-2670-50b3-ae53-dd3ab9942631","nextPostId":"9c2ac377-85a7-5700-a45c-e5f56f2f895c"}},
    "staticQueryHashes": ["2568428658","3199328057"]}