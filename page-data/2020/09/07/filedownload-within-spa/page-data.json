{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/2020/09/07/filedownload-within-spa/",
    "result": {"data":{"site":{"siteMetadata":{"title":"<bbon />","siteUrl":"https://bbon.me"}},"markdownRemark":{"id":"9f5dd717-2670-50b3-ae53-dd3ab9942631","excerpt":"SPA Single Page Application ë¡œ ì‘ì„±ì¤‘ì¸ ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œë¥¼ êµ¬í˜„í•  ë•Œ, ìƒˆ ì°½ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ì˜ URIë¥¼ ì œê³µí•´ì„œ ì²˜ë¦¬í•˜ë©´ ë§¤ìš° í¸ë¦¬í•˜ê²Œ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŒŒì¼ URIâ€¦","html":"<p>SPA <small>Single Page Application</small> ë¡œ ì‘ì„±ì¤‘ì¸ ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œë¥¼ êµ¬í˜„í•  ë•Œ, ìƒˆ ì°½ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ì˜ URIë¥¼ ì œê³µí•´ì„œ ì²˜ë¦¬í•˜ë©´ ë§¤ìš° í¸ë¦¬í•˜ê²Œ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fileDownloadUri <span class=\"token operator\">=</span> <span class=\"token string\">'íŒŒì¼ ë‹¤ìš´ë¡œë“œ URI'</span><span class=\"token punctuation\">;</span>\nwindow<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>fileDownloadUri<span class=\"token punctuation\">,</span> <span class=\"token string\">'_blank'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>íŒŒì¼ URIì™€ í•¨ê»˜ ì¸ì¦ì´ í•„ìš”í•  ë•Œ, ì¿ í‚¤ë¥¼ ì‚¬ìš©ì¤‘ì´ë©´ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ°ë°, ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , JWT ë“±ì„ ì‚¬ìš©í•´ì„œ ìš”ì²­ í—¤ë”ì— ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì¸ì¦ì„ ì²˜ë¦¬ì¤‘ì´ë©´, ìƒˆì°½ì„ ì—´ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œëŠ” ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p>ì´ ë•Œ, ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ì½”ë“œì¡°ê°ì„ npm íŒ¨í‚¤ì§€ë¡œ ê³µìœ í•©ë‹ˆë‹¤.</p>\n<h2>ğŸ“¢ @bbon/filedownload íŒ¨í‚¤ì§€</h2>\n<p><a href=\"https://www.npmjs.com/package/@bbon/filedownload\">npm: @bbon/filedownload íŒ¨í‚¤ì§€</a> í˜ì´ì§€ì—ì„œ íŒ¨í‚¤ì§€ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>ğŸ›  ì„¤ì¹˜</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> @bbon/filedownload</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> @bbon/filedownload</code></pre></div>\n<h2>ğŸ® ì‚¬ìš©</h2>\n<p>HTTP ìš”ì²­ì€ ì‚¬ìš©ì¤‘ì¸ íŒ¨í‚¤ì§€ ë˜ëŠ” APIë¥¼ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>\n<p>ì‘ë‹µ í˜•ì‹ì€ <code class=\"language-text\">BLOB</code> ìœ¼ë¡œ ì§€ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>AWS S3, Azure Storage, Google Cloud Storage ë“±ì˜ í´ë¼ìš°ë“œ ê°ì²´ ì €ì¥ì†Œì— ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\në¬¼ë¡ , ì§ì ‘ êµ¬í˜„í•œ ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ BLOB ì‘ë‹µì—ë„ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p>ì˜ˆì œ ì½”ë“œì—ì„œ HTTP ìš”ì²­ì€ <a href=\"https://www.npmjs.com/package/axios\">Axios íŒ¨í‚¤ì§€</a>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> requestConfig<span class=\"token operator\">:</span> AxiosRequestConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>Axios<span class=\"token punctuation\">.</span>defaults<span class=\"token punctuation\">,</span>\n    responseType<span class=\"token operator\">:</span> <span class=\"token string\">'blob'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nAxios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>fileDownloadUrl<span class=\"token punctuation\">,</span> requestConfig<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> contentType <span class=\"token operator\">=</span>\n                res<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'content-type'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token string\">'application/octet-stream'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> helper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileDownloadHelper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            helper<span class=\"token punctuation\">.</span><span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                data<span class=\"token operator\">:</span> res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span>\n                filename<span class=\"token operator\">:</span> fileName<span class=\"token punctuation\">,</span>\n                contentType<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">finally</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì „ì²´ì½”ë“œëŠ” <a href=\"https://github.com/bbonkr/bbon-filedownload-sample\">GitHub: bbon-filedownload-sample</a> ì €ì¥ì†Œì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><a href=\"https://bbon.me/bbon-filedownload-sample/\">ğŸ˜ ì˜ˆì œ í˜ì´ì§€</a>ì—ì„œ ë™ì‘ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <small>(ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, ë¹¨ê°„ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤. í™•ì¸í•˜ì‹¤ ë•Œ ëˆˆğŸ‘ì„ ì¡°ì‹¬í•˜ì‹­ì‹œì˜¤.)</small></p>","frontmatter":{"title":"SPA ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ","date":"September 07, 2020","description":null,"categories":["howto"],"tags":["code snippet","npm","react","typescript"],"github":null,"featuredImage":null,"draft":null,"comments":null}},"previous":{"fields":{"slug":"/2020/06/01/wsl-2-windows-10-build-2004/"},"frontmatter":{"title":"WSL 2 on Windows 10 build 2004","draft":null,"comments":null,"featuredImage":null}},"next":{"fields":{"slug":"/2020/11/14/migrate-net-core-3-1-project-to-net-5/"},"frontmatter":{"title":".NET Core 3.1 í”„ë¡œì íŠ¸ë¥¼ .NET 5 ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜","draft":null,"comments":null,"featuredImage":null}}},"pageContext":{"id":"9f5dd717-2670-50b3-ae53-dd3ab9942631","previousPostId":"bc5d0b4a-9404-5362-9eb1-41cbd0966feb","nextPostId":"496c435d-eb3c-56b7-a179-eaeeb8e63b35"}},
    "staticQueryHashes": ["3068608076","3199328057"]}