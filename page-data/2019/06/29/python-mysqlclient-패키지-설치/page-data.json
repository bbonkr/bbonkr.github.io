{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/2019/06/29/python-mysqlclient-패키지-설치/",
    "result": {"data":{"site":{"siteMetadata":{"title":"<bbon />"}},"markdownRemark":{"id":"c08127bc-4ec4-514e-b23b-ab83f74fd791","excerpt":"Django 프로젝트를 만들고, 데이터베이스 연결 구성을 위해  패키지를 설치하던 중 문제가 발생했습니다. 환경 macOS Mojave 10.14.5 Python 3.7.3 pip 19.1.1 (Python 3.…","html":"<p>Django 프로젝트를 만들고, 데이터베이스 연결 구성을 위해 <code class=\"language-text\">mysqlclient</code> 패키지를 설치하던 중 문제가 발생했습니다.</p>\n<h2>환경</h2>\n<ul>\n<li>macOS Mojave 10.14.5</li>\n<li>Python 3.7.3</li>\n<li>pip 19.1.1 (Python 3.7)</li>\n</ul>\n<h2>문제</h2>\n<p>터미널에서 아래 명령으로 <code class=\"language-text\">mysqlclient</code> 패키지 설치를 실행하면 에러가 발생합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pip3 <span class=\"token function\">install</span> mysqlclient\nCollecting mysqlclient\n  Using cached https://files.pythonhosted.org/packages/f4/f1/3bb6f64ca7a429729413e6556b7ba5976df06019a5245a43d36032f1061e/mysqlclient-1.4.2.post1.tar.gz\n    ERROR: Complete output from <span class=\"token builtin class-name\">command</span> python setup.py egg_info:\n    ERROR: Traceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:\n      File <span class=\"token string\">\"&lt;string>\"</span>, line <span class=\"token number\">1</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\n      File <span class=\"token string\">\"/private/var/folders/df/8jqrf7b543z2ff2s0rhbq54c0000gn/T/pip-install-v5w8wcwf/mysqlclient/setup.py\"</span>, line <span class=\"token number\">16</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\n        metadata, options <span class=\"token operator\">=</span> get_config<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      File <span class=\"token string\">\"/private/var/folders/df/8jqrf7b543z2ff2s0rhbq54c0000gn/T/pip-install-v5w8wcwf/mysqlclient/setup_posix.py\"</span>, line <span class=\"token number\">53</span>, <span class=\"token keyword\">in</span> get_config\n        libraries <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>dequote<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">[</span><span class=\"token number\">2</span>:<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> libs <span class=\"token keyword\">if</span> i.startswith<span class=\"token punctuation\">(</span><span class=\"token string\">'-l'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n      File <span class=\"token string\">\"/private/var/folders/df/8jqrf7b543z2ff2s0rhbq54c0000gn/T/pip-install-v5w8wcwf/mysqlclient/setup_posix.py\"</span>, line <span class=\"token number\">53</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>listcomp<span class=\"token operator\">></span>\n        libraries <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>dequote<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">[</span><span class=\"token number\">2</span>:<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> libs <span class=\"token keyword\">if</span> i.startswith<span class=\"token punctuation\">(</span><span class=\"token string\">'-l'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n      File <span class=\"token string\">\"/private/var/folders/df/8jqrf7b543z2ff2s0rhbq54c0000gn/T/pip-install-v5w8wcwf/mysqlclient/setup_posix.py\"</span>, line <span class=\"token number\">12</span>, <span class=\"token keyword\">in</span> dequote\n        raise Exception<span class=\"token punctuation\">(</span><span class=\"token string\">\"Wrong MySQL configuration: maybe https://bugs.mysql.com/bug.php?id=86971 ?\"</span><span class=\"token punctuation\">)</span>\n    Exception: Wrong MySQL configuration: maybe https://bugs.mysql.com/bug.php?id<span class=\"token operator\">=</span><span class=\"token number\">86971</span> ?\n    ----------------------------------------\nERROR: Command <span class=\"token string\">\"python setup.py egg_info\"</span> failed with error code <span class=\"token number\">1</span> <span class=\"token keyword\">in</span> /private/var/folders/df/8jqrf7b543z2ff2s0rhbq54c0000gn/T/pip-install-v5w8wcwf/mysqlclient/</code></pre></div>\n<h2>해결</h2>\n<p>먼저 <code class=\"language-text\">mysqlclient</code> 문서를 확인합니다.</p>\n<p><code class=\"language-text\">mysqlclient</code> 문서\n: <a href=\"https://pypi.org/project/mysqlclient/\">mysqlclient - PyPI</a></p>\n<p>필요한 의존 패키지를 설치합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ brew <span class=\"token function\">install</span> mysql-connector-c</code></pre></div>\n<p>앞서 설치한 의존 패키지 MySQL Connector/C 의 기본 구성이 부정확해서 내용을 변경해야 합니다.</p>\n<p>mysql_config 구성을 수정해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">which</span> mysql_config                    <span class=\"token comment\"># 파일의 위치를 찾습니다.</span>\n/usr/local/bin/mysql_config\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /usr/local/bin/mysql_config <span class=\"token comment\"># 편집기로 파일을 수정합니다.</span></code></pre></div>\n<p>아래 내용을 찾아서 변경합니다.</p>\n<blockquote>\n<p>on macOS, on or about line 112:</p>\n</blockquote>\n<p>원본:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token comment\"># Create options</span>\n<span class=\"token key attr-name\">libs</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">\"<span class=\"token inner-value\">-L$pkglibdir</span>\"</span>\n<span class=\"token key attr-name\">libs</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">\"<span class=\"token inner-value\">$libs -l </span>\"</span></code></pre></div>\n<p>변경:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token comment\"># Create options</span>\n<span class=\"token key attr-name\">libs</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">\"<span class=\"token inner-value\">-L$pkglibdir</span>\"</span>\n<span class=\"token comment\"># libs=\"$libs -l \"</span>\n<span class=\"token key attr-name\">libs</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">\"<span class=\"token inner-value\">$libs -lmysqlclient -lssl -lcrypto</span>\"</span></code></pre></div>\n<p>SSL 관련 문제가 발생하면 아래 명령으로 정보를 확인해서 문제를 해결해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ brew info openssl</code></pre></div>\n<p>이제 mysqlclient 패키지를 문제없이 설치할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pip3 <span class=\"token function\">install</span> mysqlclient\nCollecting mysqlclient\n  Using cached https://files.pythonhosted.org/packages/f4/f1/3bb6f64ca7a429729413e6556b7ba5976df06019a5245a43d36032f1061e/mysqlclient-1.4.2.post1.tar.gz\nBuilding wheels <span class=\"token keyword\">for</span> collected packages: mysqlclient\n  Building wheel <span class=\"token keyword\">for</span> mysqlclient <span class=\"token punctuation\">(</span>setup.py<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span>\n  Stored <span class=\"token keyword\">in</span> directory: /Users/bbon/Library/Caches/pip/wheels/30/91/e0/2ee952bce05b1247807405c6710c6130e49468a5240ae27134\nSuccessfully built mysqlclient\nInstalling collected packages: mysqlclient\nSuccessfully installed mysqlclient-1.4.2.post1</code></pre></div>","frontmatter":{"title":"Python mysqlclient 패키지 설치 문제","date":"June 29, 2019","description":null,"categories":["howto"],"tags":["django","python","pip","mysql","mariadb"],"github":null}},"previous":{"fields":{"slug":"/2019/06/28/node-blog-app/"},"frontmatter":{"title":"Node Blog App"}},"next":{"fields":{"slug":"/2019/07/10/update-your-apps-to-be-64-bit-compliant-by-2019-08-01/"},"frontmatter":{"title":"Update your apps to be 64-bit compliant by 2019-08-01"}}},"pageContext":{"id":"c08127bc-4ec4-514e-b23b-ab83f74fd791","previousPostId":"a2312e56-8c8e-5fd4-854a-933d981653ba","nextPostId":"9ebb8a01-ffdc-54f0-b582-d6374c634846"}},
    "staticQueryHashes": ["2841359383","3199328057"]}