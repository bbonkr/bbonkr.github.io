<!DOCTYPE html><html lang="ko" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>어셈블리 바인딩 로깅 · {bbon}</title><meta name="description"><meta name="og:title" content="어셈블리 바인딩 로깅"><meta name="og:type" content="website"><meta name="og:url" content="http://bbon.me/2016/08/29/enable-assembly-binding-log/"><meta name="og:image" content="/images/logo.png"><meta name="og:description"><meta name="twitter:card" content="summary"><meta name="witter:site" content="@bbonkr"><meta name="witter:creator" content="@bbonkr"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/chiangmai.css"><link rel="stylesheet" href="/css/prism.css"><link rel="search" type="application/opensearchdescription+xml" href="http://bbon.me/atom.xml" title="{bbon}"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="{bbon}" type="application/atom+xml">
</head><body class="post"><div id="fb-root"></div><div class="wrap"><header><nav class="navi-post"><a class="navi-post-back" href="javascript:history.back()"><i class="fa fa-arrow-left" aria-hidden="true"></i></a><a class="navi-post-home" href="/"><i class="fa fa-home" aria-hidden="true"></i></a></nav></header><main class="post"><div class="post"><article class="post-block"><h1 class="post-title">어셈블리 바인딩 로깅</h1><div class="post-info"><div class="post-info-profile"><a href="https://github.com/bbonkr" target="_blank"><img src="/images/me.png"></a></div><div class="post-info-details"><div class="post-categories"><a href="/categories/Computing" target="_self"><span>COMPUTING</span></a></div><div class="post-date">2016년 8월 29일</div></div></div><div class="post-share"><div class="fb-like" data-href="http://bbon.me/2016/08/29/enable-assembly-binding-log/" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="false">                 </div><div class="fb-share-button" data-href="http://bbon.me/2016/08/29/enable-assembly-binding-log/" data-layout="button" data-size="small" data-mobile-iframe="true"></div></div><div class="post-content"><p>런타임<small>Runtime</small>에 어셈블리 바인딩 오류가 발생하는 경우 아래와 같은 내용을 확인할 수 있습니다.</p>
<pre class="line-numbers language-plaintext" data-language="plaintext"><code class="language-plaintext">이 대화 상자 대신 JIT(Just-in-time) 디버깅을 호출하는
방법에 대한 자세한 내용은 이 메시지의 뒷부분을 참조하십시오.

************** 예외 텍스트 **************
System.IO.FileNotFoundException: 파일이나 어셈블리 &#39;SampleNamespace, Version&#x3D;1.0.0.1, Culture&#x3D;neutral, PublicKeyToken&#x3D;aaaaaaaaaaaaaaaa&#39; 또는 여기에 종속되어 있는 파일이나 어셈블리 중 하나를 로드할 수 없습니다. 지정된 파일을 찾을 수 없습니다.
파일 이름: &#39;SampleNamespace, Version&#x3D;1.0.0.0, Culture&#x3D;neutral, PublicKeyToken&#x3D;aaaaaaaaaaaaaaaa&#39;
   위치: OtherNamespace.MyClass..ctor()

경고: 어셈블리 바인딩 로깅이 꺼져 있습니다.
어셈블리 바인딩 오류 로깅 기능을 사용하려면 레지스트리 값 [HKLM\Software\Microsoft\Fusion!EnableLog] (DWORD)를 1로 설정하십시오.
참고: 어셈블리 바인딩 오류 로깅 기능을 사용하도록 설정하면 그렇지 않은 경우보다 성능이 약간 떨어집니다.
이 기능을 끄려면 레지스트리 값 [HKLM\Software\Microsoft\Fusion!EnableLog]를 제거하십시오.



************** 로드된 어셈블리 **************
mscorlib
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34209 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.NET&#x2F;Framework&#x2F;v4.0.30319&#x2F;mscorlib.dll
----------------------------------------
System
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34238 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;System&#x2F;v4.0_4.0.0.0__b77a5c561934e089&#x2F;System.dll
----------------------------------------
System.Windows.Forms
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34251 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;System.Windows.Forms&#x2F;v4.0_4.0.0.0__b77a5c561934e089&#x2F;System.Windows.Forms.dll
----------------------------------------
System.Drawing
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34209 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;System.Drawing&#x2F;v4.0_4.0.0.0__b03f5f7f11d50a3a&#x2F;System.Drawing.dll
----------------------------------------
System.Configuration
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34209 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;System.Configuration&#x2F;v4.0_4.0.0.0__b03f5f7f11d50a3a&#x2F;System.Configuration.dll
----------------------------------------
System.Xml
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34234 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;System.Xml&#x2F;v4.0_4.0.0.0__b77a5c561934e089&#x2F;System.Xml.dll
----------------------------------------
OtherNamespace.MyClass
    어셈블리 버전: 1.0.0.0
    Win32 버전: N&#x2F;A
    코드베이스: http:&#x2F;&#x2F;bbon.me&#x2F;Apps&#x2F;OtherNamespace.DLL
----------------------------------------
IFW.Windows.Forms
    어셈블리 버전: 4.0.0.6
    Win32 버전: 4.0.0.6
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;IFW.Windows.Forms&#x2F;v4.0_4.0.0.6__6b3a265306332740&#x2F;IFW.Windows.Forms.dll
----------------------------------------
mscorlib.resources
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34209 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;mscorlib.resources&#x2F;v4.0_4.0.0.0_ko_b77a5c561934e089&#x2F;mscorlib.resources.dll
----------------------------------------
System.Windows.Forms.resources
    어셈블리 버전: 4.0.0.0
    Win32 버전: 4.0.30319.34209 built by: FX452RTMGDR
    코드베이스: file:&#x2F;&#x2F;&#x2F;C:&#x2F;Windows&#x2F;Microsoft.Net&#x2F;assembly&#x2F;GAC_MSIL&#x2F;System.Windows.Forms.resources&#x2F;v4.0_4.0.0.0_ko_b77a5c561934e089&#x2F;System.Windows.Forms.resources.dll
----------------------------------------

************** JIT 디버깅 **************
JIT(Just In Time) 디버깅을 사용하려면 이 응용 프로그램 또는 컴퓨터의
config 파일(machine.config)의 jitDebugging 값을
system.windows.forms 섹션에 설정해야 합니다.
또한 응용 프로그램은 디버깅할 수 있도록 컴파일되어야
합니다.

예:

&lt;configuration&gt;
    &lt;system.windows.forms jitDebugging&#x3D;&quot;true&quot; &#x2F;&gt;
&lt;&#x2F;configuration&gt;

JIT 디버깅을 사용하면 처리되지 않은 모든 예외는
이 대화 상자에서 처리되지 않고 컴퓨터에 등록된 JIT
디버거에 보내집니다.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>응용 프로그램 런타임에 어셈블리 바인딩 오류 로그를 활성화하여 문제를 추적할 수 있습니다.</p>
<p>어떤 어셈블리를 바인딩하려다 오류가 발생하는지는 로깅을 활성화하면 확인할 수 있습니다.</p>
<h2 id="로깅-활성화"><a href="#로깅-활성화" class="headerlink" title="로깅 활성화"></a>로깅 활성화</h2><p>레지스트리 편집기를 실행하고 아래 키로 이동 후 값을 추가합니다.</p>
<p><code>HKLM\SOFTWARE\Microsoft\Fusion</code></p>
<table>
<thead>
<tr>
<th align="left">이름</th>
<th align="center">형식</th>
<th align="left">값</th>
</tr>
</thead>
<tbody><tr>
<td align="left">EnableLog</td>
<td align="center">DWORD</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">ForceLog</td>
<td align="center">DWORD</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">LogFailures</td>
<td align="center">DWORD</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">LogResourceBinds</td>
<td align="center">DWORD</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">LogPath</td>
<td align="center">STRING</td>
<td align="left">PATH TO LOG FILES;e.g.)<code>c:\FusionLog\</code></td>
</tr>
</tbody></table>
<p>아래와 같이 레지스트리 값을 추가하면 로깅이 활성화됩니다.</p>
<img src="/2016/08/29/enable-assembly-binding-log/regedit-fusion-log.png" class="" title="설정">

<h2 id="로그확인"><a href="#로그확인" class="headerlink" title="로그확인"></a>로그확인</h2><p>레지스트리 값 중 <code>LogPath</code>에 설정한 디렉터리에 로그 파일이 만들어집니다.</p>
<p>탐색기에서 디렉터리로 이동하면 Default, NativeImage 두 개의 하위 디렉터리가 만들어져 있습니다.</p>
<p>그리고, 각 디렉터리에 실행된 어셈블리 이름 디렉터리가 존재하고, <code>HTML</code> 파일로 내용이 저장되어져 있습니다.</p>
<p>각 <code>HTML</code>파일을 확인하여 실패 내용을 추적할 수 있습니다.</p>
<h2 id="어셈블리-바인딩-로깅-활성화-응용-프로그램"><a href="#어셈블리-바인딩-로깅-활성화-응용-프로그램" class="headerlink" title="어셈블리 바인딩 로깅 활성화 응용 프로그램"></a>어셈블리 바인딩 로깅 활성화 응용 프로그램</h2><p>프로젝트를 빌드하기 위해서는 아래 요구사항을 만족해야 합니다.</p>
<ul>
<li>  Visual Studio 2015</li>
<li>  .NET Framework 4.5.2</li>
</ul>
<p>Release 파일을 다운로드 받고 실행하면 아래와 같이 간단한 모양으로 실행됩니다.</p>
<img src="/2016/08/29/enable-assembly-binding-log/fusionlog-01.png" class="">

<img src="/2016/08/29/enable-assembly-binding-log/fusionlog-02.png" class="">

<p>Check 버튼으로 현재 상태를 확인할 수 있고, Activate, Deactivate 버튼으로 활성, 비활성으로 상태를 변경할 수 있습니다.</p>
<p>활성은 레지스트리에 값을 추가하고, 비활성은 레지스트리 값을 제거합니다.</p>
<p><a href="https://github.com/bbonkr/activate-assembly-binding-error-log" target="_blank" rel="noopener">Github: activate-assembly-binding-error-log</a></p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2016/03/23/ios-9-3/"><i class="fa fa-arrow-left" aria-hidden="true"></i></a><a class="next" href="/2016/09/18/ios-10/"><i class="fa fa-arrow-right" aria-hidden="true"></i></a></div><div class="copyright"><p>© 2019 - 2021 <a href="https://github.com/bbonkr" target="_blank">bbon</a>. Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/stunstunstun/hexo-theme-chiangmai" target="_blank">hexo-theme-chiangmai</a>.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create','UA-64779499-1','auto');ga('send','pageview');</script></body></html>